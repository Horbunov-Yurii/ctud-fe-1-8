{"mappings":"AEAO,IAAM,EAAY,IAChB,MAAM,kCAAkC,IAAI,CAAC,AAAC,GAAQ,EAAI,IAAI,IDKjE,EAAO,SAAS,aAAa,CAAC,SAC9B,EAAS,SAAS,aAAa,CAAC,YAChC,EAAa,SAAS,aAAa,CAAC,aACpC,EAAS,SAAS,aAAa,CAAC,eAMtC,SAAS,EAAa,CAAK,EAezB,EAAK,SAAS,CAdD,EACV,GAAG,CAAC,CAAC,CAAA,GAAE,CAAE,CAAA,QAAE,CAAO,CAAA,KAAE,CAAI,CAAA,QAAE,CAAO,CAAA,MAAE,CAAK,CAAA,YAAE,CAAW,CAAA,MAAE,CAAK,CAAE,GACtD,CAAC,QAAQ,EAAE,EAAG;AACL,sBAAA,EAAE,EAAM,OAAO,EAAE,EAAK;AACP,qCAAA,EAAE,EAAQ;AACd,iCAAA,EAAE,EAAK;AACL,mCAAA,EAAE,EAAM;AACV,iCAAA,EAAE,EAAY;A;A;A;AAIlC,aAAA,CAAC,EAET,IAAI,CAAC,GAEV,CAlBA,AAAA,IAAY,IAAI,CAAC,AAAC,GAAQ,EAAa,IAsBvC,EAAO,gBAAgB,CAAC,QAAS,KAK/B,EAAW,KAAK,CAAC,OAAO,CAAG,MAH7B,GAUA,EAAO,gBAAgB,CAAC,SAAU,AAAC,IAEjC,EAAM,cAAc,GACpB,IAAM,EAAW,EAAM,aAAa,CAAC,QAAQ,CAU7C,AEnDO,MAAM,iCAPC,CAChB,OAAQ,OACR,KAAM,KAAK,SAAS,CFgDG,CACnB,QAAS,EAAS,OAAO,CAAC,KAAK,CAAC,IAAI,GACpC,KAAM,EAAS,IAAI,CAAC,KAAK,CAAC,IAAI,GAC9B,MAAO,EAAS,KAAK,CAAC,KAAK,CAAC,IAAI,GAChC,YAAa,EAAS,IAAI,CAAC,KAAK,CAAC,IAAI,GACrC,MAAO,EAAS,GAAG,CAAC,KAAK,CAAC,IAAI,EAChC,GErDF,QAAS,CACT,eAAgB,iCAChB,CACA,GAC0D,IAAI,CAAC,AAAC,GAAQ,EAAI,IAAI,IFmDrD,IAAI,CAAC,AAAC,IAC7B,EAAO,KAAK,GAjBd,EAAW,KAAK,CAAC,OAAO,CAAG,OAmBzB,AAAA,IAAY,IAAI,CAAC,AAAC,GAAQ,EAAa,GACzC,EAEF,GAEA,EAAK,gBAAgB,CAAC,QAAS,AAAC,IAC9B,IAAM,EAAS,EAAM,MAAM,CAAC,OAAO,CAAC,MAAM,CAC1C,GAAI,CAAC,EACH,OAIF,IAAM,EAAK,AADA,EAAM,MAAM,CAAC,OAAO,CAAC,MAClB,EAAE,AACZ,AAAW,CAAA,WAAX,GACF,AG5EO,MAAM,CAAC,+BAA+B,EH4EnC,EG5EqC,CAAI,CAAE,CACjD,OAAQ,QACZ,GAAG,IAAI,CAAC,AAAC,GAAQ,EAAI,IAAI,IH0EX,IAAI,CAAC,AAAA,GAAO,AAAA,EAAU,IAAM,IAAI,CAAC,AAAA,GAAO,EAAa,GAGvE","sources":["<anon>","src/app.js","src/api/getIceAPI.js","src/api/postIceAPI.js","src/api/delIceAPI.js"],"sourcesContent":["const $86b13480c2360751$export$4155fae302b916c9 = ()=>{\n    return fetch(\"http://localhost:3000/icecream\").then((res)=>res.json());\n};\n\n\nconst $b4413bcb37a0ad9a$export$1ed6294efb83e2ac = (iceCream)=>{\n    const options = {\n        method: \"POST\",\n        body: JSON.stringify(iceCream),\n        headers: {\n            \"Content-Type\": \"application/json; charset=UTF-8\"\n        }\n    };\n    return fetch(\"http://localhost:3000/icecream\", options).then((res)=>res.json());\n};\n\n\nconst $a50e240db88156af$export$8b88e9c6feb9b09b = (id)=>{\n    return fetch(`http://localhost:3000/icecream/${id}`, {\n        method: \"DELETE\"\n    }).then((res)=>res.json());\n};\n\n\nconst $6f40c3a58f594b58$var$list = document.querySelector(\".list\");\nconst $6f40c3a58f594b58$var$addBtn = document.querySelector(\".add-btn\");\nconst $6f40c3a58f594b58$var$backdropEl = document.querySelector(\".backdrop\");\nconst $6f40c3a58f594b58$var$formEl = document.querySelector(\".modal-form\");\n(0, $86b13480c2360751$export$4155fae302b916c9)().then((res)=>$6f40c3a58f594b58$var$renderLayout(res));\nfunction $6f40c3a58f594b58$var$renderLayout(array) {\n    const item = array.map(({ id: id, flavour: flavour, type: type, callory: callory, price: price, description: description, image: image })=>{\n        return `<li id=\"${id}\" class=\"item\">\n            <img src=\"${image}\" alt=\"${type}\" class=\"item-img\">\n            <h3 class=\"item-flavour\">${flavour}</h3>\n            <p class=\"item-type\">${type}</p>\n            <p class=\"item-price\">$${price}</p>\n            <p class=\"item-desc\">${description}</p>\n            <div class=\"btn-wrapper\"> <button data-action=\"delete\" type=\"button\" class=\"button\">Delete</button>\n            <button data-action=\"edit\" type=\"button\" class=\"button\">Edit</button>\n        </div>\n        </li>`;\n    }).join(\"\");\n    $6f40c3a58f594b58$var$list.innerHTML = item;\n}\n//modal---------------\n$6f40c3a58f594b58$var$addBtn.addEventListener(\"click\", ()=>{\n    $6f40c3a58f594b58$var$openModal();\n});\nfunction $6f40c3a58f594b58$var$openModal() {\n    $6f40c3a58f594b58$var$backdropEl.style.display = \"flex\";\n}\nfunction $6f40c3a58f594b58$var$closeModal() {\n    $6f40c3a58f594b58$var$backdropEl.style.display = \"none\";\n}\n$6f40c3a58f594b58$var$formEl.addEventListener(\"submit\", (event)=>{\n    event.preventDefault();\n    const elements = event.currentTarget.elements;\n    const icecreamData = {\n        flavour: elements.flavour.value.trim(),\n        type: elements.type.value.trim(),\n        price: elements.price.value.trim(),\n        description: elements.desc.value.trim(),\n        image: elements.url.value.trim()\n    };\n    (0, $b4413bcb37a0ad9a$export$1ed6294efb83e2ac)(icecreamData).then((res)=>{\n        $6f40c3a58f594b58$var$formEl.reset();\n        $6f40c3a58f594b58$var$closeModal();\n        (0, $86b13480c2360751$export$4155fae302b916c9)().then((res)=>$6f40c3a58f594b58$var$renderLayout(res));\n    });\n});\n$6f40c3a58f594b58$var$list.addEventListener(\"click\", (event)=>{\n    const action = event.target.dataset.action;\n    if (!action) return;\n    // const li = event.target.parentNode.parentNode\n    const li = event.target.closest(\"li\");\n    const id = li.id;\n    if (action === \"delete\") (0, $a50e240db88156af$export$8b88e9c6feb9b09b)(id).then((res)=>(0, $86b13480c2360751$export$4155fae302b916c9)(res)).then((res)=>$6f40c3a58f594b58$var$renderLayout(res));\n});\n\n\n//# sourceMappingURL=ctud-fe-1-8.6285da86.js.map\n","import { getIceAPI } from \"./api/getIceAPI\";\nimport { postIceAPI } from \"./api/postIceAPI\";\nimport { delIceAPI } from \"./api/delIceAPI\";\n\n\n\nconst list = document.querySelector(\".list\");\nconst addBtn = document.querySelector(\".add-btn\")\nconst backdropEl = document.querySelector(\".backdrop\")\nconst formEl = document.querySelector(\".modal-form\")\n\n\n\ngetIceAPI().then((res) => renderLayout(res));\n\nfunction renderLayout(array) {\n  const item = array\n    .map(({ id, flavour, type, callory, price, description, image }) => {\n      return `<li id=\"${id}\" class=\"item\">\n            <img src=\"${image}\" alt=\"${type}\" class=\"item-img\">\n            <h3 class=\"item-flavour\">${flavour}</h3>\n            <p class=\"item-type\">${type}</p>\n            <p class=\"item-price\">$${price}</p>\n            <p class=\"item-desc\">${description}</p>\n            <div class=\"btn-wrapper\"> <button data-action=\"delete\" type=\"button\" class=\"button\">Delete</button>\n            <button data-action=\"edit\" type=\"button\" class=\"button\">Edit</button>\n        </div>\n        </li>`;\n    })\n    .join(\"\");\n  list.innerHTML = item\n}\n\n\n//modal---------------\naddBtn.addEventListener(\"click\", () => {\n  openModal()\n})\n\nfunction openModal() {\n  backdropEl.style.display = \"flex\"\n}\n\nfunction closeModal() {\n  backdropEl.style.display = \"none\"\n}\n\nformEl.addEventListener(\"submit\", (event) => {\n\n  event.preventDefault()\n  const elements = event.currentTarget.elements\n\n  const icecreamData = {\n    flavour: elements.flavour.value.trim(),\n    type: elements.type.value.trim(),\n    price: elements.price.value.trim(),\n    description: elements.desc.value.trim(),\n    image: elements.url.value.trim()\n  }\n\n  postIceAPI(icecreamData).then((res) => {\n    formEl.reset()\n    closeModal()\n    getIceAPI().then((res) => renderLayout(res));\n  })\n\n})\n\nlist.addEventListener(\"click\", (event) => {\n  const action = event.target.dataset.action\n  if (!action) {\n    return\n  }\n  // const li = event.target.parentNode.parentNode\n  const li = event.target.closest(\"li\")\n  const id = li.id\n  if (action === \"delete\") {\n    delIceAPI(id).then(res => getIceAPI(res)).then(res => renderLayout(res))\n  }\n  \n})","export const getIceAPI = () => {\n  return fetch(\"http://localhost:3000/icecream\").then((res) => res.json());\n};\n\n","\nexport const postIceAPI = (iceCream) => {\nconst options = {\nmethod: \"POST\",\nbody: JSON.stringify(iceCream),\nheaders: {\n\"Content-Type\": \"application/json; charset=UTF-8\",\n},\n};\n  return fetch(\"http://localhost:3000/icecream\", options).then((res) => res.json());\n};\n","export const delIceAPI = (id) => {\n    return fetch(`http://localhost:3000/icecream/${id}`, {\n        method: \"DELETE\",\n    }).then((res) => res.json());\n}"],"names":["$86b13480c2360751$export$4155fae302b916c9","fetch","then","res","json","$6f40c3a58f594b58$var$list","document","querySelector","$6f40c3a58f594b58$var$addBtn","$6f40c3a58f594b58$var$backdropEl","$6f40c3a58f594b58$var$formEl","$6f40c3a58f594b58$var$renderLayout","array","innerHTML","map","id","flavour","type","callory","price","description","image","join","addEventListener","style","display","event","preventDefault","elements","currentTarget","method","body","JSON","stringify","value","trim","desc","url","headers","reset","action","target","dataset","li","closest"],"version":3,"file":"ctud-fe-1-8.6285da86.js.map"}