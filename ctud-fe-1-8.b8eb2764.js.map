{"mappings":"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","sources":["<anon>","src/app.js","src/api/getIceAPI.js","src/api/postIceAPI.js","src/api/delIceAPI.js","src/api/updateiceApi.js"],"sourcesContent":["const $86b13480c2360751$export$4155fae302b916c9 = async ()=>{\n    const res = await fetch(\"http://localhost:3000/icecream\");\n    if (!res.ok) throw new Error(\"Failed!\");\n    return res.json();\n}; // export const getIceAPI = () => {\n //   return fetch(\"http://localhost:3000/icecream\").then((res) => res.json());\n // };\n\n\nconst $b4413bcb37a0ad9a$export$1ed6294efb83e2ac = async (iceCream)=>{\n    const options = {\n        method: \"POST\",\n        body: JSON.stringify(iceCream),\n        headers: {\n            \"Content-Type\": \"application/json; charset=UTF-8\"\n        }\n    };\n    const res = await fetch(\"http://localhost:3000/icecream\", options);\n    if (!res.ok) throw new Error(\"Failed!\");\n    return res.json();\n}; // export const postIceAPI = (iceCream) => {\n // const options = {\n // method: \"POST\",\n // body: JSON.stringify(iceCream),\n // headers: {\n // \"Content-Type\": \"application/json; charset=UTF-8\",\n // },\n // };\n //   return fetch(\"http://localhost:3000/icecream\", options).then((res) => res.json());\n // };\n\n\nconst $a50e240db88156af$export$8b88e9c6feb9b09b = async (id)=>{\n    const res = await fetch(`http://localhost:3000/icecream/${id}`, {\n        method: \"DELETE\"\n    });\n    if (!res.ok) throw new Error(\"Failed!\");\n    return res.json();\n}; // export const delIceAPI = (id) => {\n //     return fetch(`http://localhost:3000/icecream/${id}`, {\n //         method: \"DELETE\",\n //     }).then((res) => res.json());\n // }\n\n\nconst $cbdf6a511dbeaa6a$export$2f74d05eb6079dc3 = async (id, icecream)=>{\n    const options = {\n        method: \"PUT\",\n        body: JSON.stringify(icecream),\n        headers: {\n            \"Content-Type\": \"application/json; charset=UTF-8\"\n        }\n    };\n    const res = await fetch(`http://localhost:3000/icecream/${id}`, options);\n    if (!res.ok) throw new Error(\"Failed!\");\n    return res.json();\n}; // export const upddateIceApi = (id, icecream) => {\n //     const options = {\n //     method: \"PUT\",\n //     body: JSON.stringify(icecream),\n //     headers: {\n //     \"Content-Type\": \"application/json; charset=UTF-8\",\n // }}\n //     return fetch(`http://localhost:3000/icecream/${id}`, options).then((res) => res.json())\n // }\n\n\nconst $6f40c3a58f594b58$var$list = document.querySelector(\".list\");\nconst $6f40c3a58f594b58$var$addBtn = document.querySelector(\".add-btn\");\nconst $6f40c3a58f594b58$var$backdropEl = document.querySelector(\".backdrop\");\nconst $6f40c3a58f594b58$var$formEl = document.querySelector(\".modal-form\");\nlet $6f40c3a58f594b58$var$currentEdit = null;\n// getIceAPI().then((res) => renderLayout(res));\nconst $6f40c3a58f594b58$var$init = async ()=>{\n    const res = await (0, $86b13480c2360751$export$4155fae302b916c9)();\n    $6f40c3a58f594b58$var$renderLayout(res);\n};\n$6f40c3a58f594b58$var$init();\nfunction $6f40c3a58f594b58$var$renderLayout(array) {\n    const item = array.map(({ id: id, flavour: flavour, type: type, price: price, description: description, image: image })=>{\n        return `<li id=\"${id}\" class=\"item\">\n            <img src=\"${image}\" alt=\"${type}\" class=\"item-img\">\n            <h3 class=\"item-flavour\">${flavour}</h3>\n            <p class=\"item-type\">${type}</p>\n            <p class=\"item-price\">$<span class=\"span\">${price}</span></p>\n            <p class=\"item-desc\">${description}</p>\n            <div class=\"btn-wrapper\"> <button data-action=\"delete\" type=\"button\" class=\"button\">Delete</button>\n            <button data-action=\"edit\" type=\"button\" class=\"button\">Edit</button>\n        </div>\n        </li>`;\n    }).join(\"\");\n    $6f40c3a58f594b58$var$list.innerHTML = item;\n}\n//modal---------------\n$6f40c3a58f594b58$var$addBtn.addEventListener(\"click\", ()=>{\n    $6f40c3a58f594b58$var$openModal();\n});\nfunction $6f40c3a58f594b58$var$openModal() {\n    $6f40c3a58f594b58$var$backdropEl.style.display = \"flex\";\n}\nfunction $6f40c3a58f594b58$var$closeModal() {\n    $6f40c3a58f594b58$var$backdropEl.style.display = \"none\";\n}\n$6f40c3a58f594b58$var$formEl.addEventListener(\"submit\", async (event)=>{\n    event.preventDefault();\n    const elements = event.currentTarget.elements;\n    const icecreamData = {\n        flavour: elements.flavour.value.trim(),\n        type: elements.type.value.trim(),\n        price: elements.price.value.trim(),\n        description: elements.desc.value.trim(),\n        image: elements.url.value.trim()\n    };\n    if ($6f40c3a58f594b58$var$currentEdit === null) {\n        //   postIceAPI(icecreamData).then((res) => {\n        //   formEl.reset()\n        //   closeModal()\n        //   getIceAPI().then((res) => renderLayout(res));\n        // }) \n        await (0, $b4413bcb37a0ad9a$export$1ed6294efb83e2ac)(icecreamData);\n        $6f40c3a58f594b58$var$formEl.reset();\n        $6f40c3a58f594b58$var$closeModal();\n        const res = await (0, $86b13480c2360751$export$4155fae302b916c9)();\n        $6f40c3a58f594b58$var$renderLayout(res);\n    }\n    if ($6f40c3a58f594b58$var$currentEdit) {\n        // upddateIceApi(currentEdit,icecreamData).then(res => {\n        //   formEl.reset()\n        //   closeModal()\n        //   getIceAPI().then((res) => renderLayout(res));\n        // })\n        await (0, $cbdf6a511dbeaa6a$export$2f74d05eb6079dc3)($6f40c3a58f594b58$var$currentEdit, icecreamData);\n        $6f40c3a58f594b58$var$formEl.reset();\n        $6f40c3a58f594b58$var$closeModal();\n        const res = await (0, $86b13480c2360751$export$4155fae302b916c9)();\n        $6f40c3a58f594b58$var$renderLayout(res);\n        $6f40c3a58f594b58$var$currentEdit = null;\n    }\n});\n$6f40c3a58f594b58$var$list.addEventListener(\"click\", async (event)=>{\n    const action = event.target.dataset.action;\n    if (!action) return;\n    // const li = event.target.parentNode.parentNode\n    const li = event.target.closest(\"li\");\n    const id = li.id;\n    if (action === \"delete\") {\n        // delIceAPI(id).then(res => getIceAPI(res)).then(res => renderLayout(res))\n        await (0, $a50e240db88156af$export$8b88e9c6feb9b09b)(id);\n        const res = await (0, $86b13480c2360751$export$4155fae302b916c9)();\n        console.log(res);\n        $6f40c3a58f594b58$var$renderLayout(res);\n    }\n    if (action === \"edit\") {\n        $6f40c3a58f594b58$var$currentEdit = id;\n        $6f40c3a58f594b58$var$formEl.elements.url.value = li.querySelector(\".item-img\").src;\n        $6f40c3a58f594b58$var$formEl.elements.flavour.value = li.querySelector(\".item-flavour\").textContent;\n        $6f40c3a58f594b58$var$formEl.elements.type.value = li.querySelector(\".item-type\").textContent;\n        $6f40c3a58f594b58$var$formEl.elements.price.value = li.querySelector(\".span\").textContent;\n        $6f40c3a58f594b58$var$formEl.elements.desc.value = li.querySelector(\".item-desc\").textContent;\n        $6f40c3a58f594b58$var$openModal();\n    }\n});\n\n\n//# sourceMappingURL=ctud-fe-1-8.b8eb2764.js.map\n","import { getIceAPI } from \"./api/getIceAPI\";\r\nimport { postIceAPI } from \"./api/postIceAPI\";\r\nimport { delIceAPI } from \"./api/delIceAPI\";\r\nimport { upddateIceApi } from \"./api/updateiceApi\";\r\n\r\n\r\nconst list = document.querySelector(\".list\");\r\nconst addBtn = document.querySelector(\".add-btn\")\r\nconst backdropEl = document.querySelector(\".backdrop\")\r\nconst formEl = document.querySelector(\".modal-form\")\r\n\r\nlet currentEdit = null;\r\n\r\n// getIceAPI().then((res) => renderLayout(res));\r\nconst init = async () => {\r\n  const res = await getIceAPI()\r\n  renderLayout(res)\r\n}\r\ninit()\r\n\r\nfunction renderLayout(array) {\r\n  const item = array\r\n    .map(({ id, flavour, type, price, description, image }) => {\r\n      return `<li id=\"${id}\" class=\"item\">\r\n            <img src=\"${image}\" alt=\"${type}\" class=\"item-img\">\r\n            <h3 class=\"item-flavour\">${flavour}</h3>\r\n            <p class=\"item-type\">${type}</p>\r\n            <p class=\"item-price\">$<span class=\"span\">${price}</span></p>\r\n            <p class=\"item-desc\">${description}</p>\r\n            <div class=\"btn-wrapper\"> <button data-action=\"delete\" type=\"button\" class=\"button\">Delete</button>\r\n            <button data-action=\"edit\" type=\"button\" class=\"button\">Edit</button>\r\n        </div>\r\n        </li>`;\r\n    })\r\n    .join(\"\");\r\n  list.innerHTML = item\r\n}\r\n\r\n\r\n//modal---------------\r\naddBtn.addEventListener(\"click\", () => {\r\n  openModal()\r\n})\r\n\r\nfunction openModal() {\r\n  backdropEl.style.display = \"flex\"\r\n}\r\n\r\nfunction closeModal() {\r\n  backdropEl.style.display = \"none\"\r\n}\r\n\r\nformEl.addEventListener(\"submit\", async (event) => {\r\n\r\n  event.preventDefault()\r\n \r\n  const elements = event.currentTarget.elements\r\n\r\n  const icecreamData = {\r\n    flavour: elements.flavour.value.trim(),\r\n    type: elements.type.value.trim(),\r\n    price: elements.price.value.trim(),\r\n    description: elements.desc.value.trim(),\r\n    image: elements.url.value.trim()\r\n  }\r\nif (currentEdit === null ) {\r\n  //   postIceAPI(icecreamData).then((res) => {\r\n  //   formEl.reset()\r\n  //   closeModal()\r\n  //   getIceAPI().then((res) => renderLayout(res));\r\n  // }) \r\n  \r\n  await postIceAPI(icecreamData)\r\n  formEl.reset()\r\n  closeModal()\r\n  const res = await getIceAPI()\r\n  renderLayout(res)\r\n}\r\nif (currentEdit) {\r\n  \r\n  // upddateIceApi(currentEdit,icecreamData).then(res => {\r\n  //   formEl.reset()\r\n  //   closeModal()\r\n  //   getIceAPI().then((res) => renderLayout(res));\r\n  // })\r\n  await upddateIceApi(currentEdit, icecreamData)\r\n  formEl.reset()\r\n  closeModal()\r\n  const res = await getIceAPI()\r\n  renderLayout(res)\r\n  currentEdit = null\r\n}\r\n}\r\n\r\n)\r\n\r\nlist.addEventListener(\"click\", async (event) => {\r\n\r\n  const action = event.target.dataset.action\r\n  if (!action) {\r\n    return\r\n  }\r\n  // const li = event.target.parentNode.parentNode\r\n  const li = event.target.closest(\"li\")\r\n  const id = li.id\r\n  if (action === \"delete\") {\r\n    // delIceAPI(id).then(res => getIceAPI(res)).then(res => renderLayout(res))\r\n    await delIceAPI(id)\r\n    const res = await getIceAPI()\r\n    console.log(res)\r\n    renderLayout(res)\r\n  }\r\n  if(action === \"edit\") {\r\n    currentEdit =  id\r\n\r\n    formEl.elements.url.value = li.querySelector(\".item-img\").src;\r\n    formEl.elements.flavour.value = li.querySelector(\".item-flavour\").textContent\r\n    formEl.elements.type.value = li.querySelector(\".item-type\").textContent\r\n    formEl.elements.price.value = li.querySelector(\".span\").textContent\r\n    formEl.elements.desc.value = li.querySelector(\".item-desc\").textContent\r\n\r\n        openModal()\r\n    \r\n  }\r\n  \r\n})\r\n\r\n\r\n","export const getIceAPI = async () => {\r\n  const res = await fetch(\"http://localhost:3000/icecream\");\r\n  if (!res.ok) {\r\n    throw new Error(\"Failed!\");\r\n  }\r\n  return res.json();\r\n};\r\n\r\n// export const getIceAPI = () => {\r\n//   return fetch(\"http://localhost:3000/icecream\").then((res) => res.json());\r\n// };\r\n","export const postIceAPI = async (iceCream) => {\r\n  const options = {\r\n    method: \"POST\",\r\n    body: JSON.stringify(iceCream),\r\n    headers: {\r\n      \"Content-Type\": \"application/json; charset=UTF-8\",\r\n    },\r\n  };\r\n  const res = await fetch(\"http://localhost:3000/icecream\", options);\r\n  if (!res.ok) {\r\n    throw new Error(\"Failed!\");\r\n  }\r\n  return res.json();\r\n};\r\n\r\n// export const postIceAPI = (iceCream) => {\r\n// const options = {\r\n// method: \"POST\",\r\n// body: JSON.stringify(iceCream),\r\n// headers: {\r\n// \"Content-Type\": \"application/json; charset=UTF-8\",\r\n// },\r\n// };\r\n//   return fetch(\"http://localhost:3000/icecream\", options).then((res) => res.json());\r\n// };\r\n","export const delIceAPI = async (id) => {\r\n  const res = await fetch(`http://localhost:3000/icecream/${id}`, {\r\n    method: \"DELETE\",\r\n  });\r\n  if (!res.ok) {\r\n    throw new Error(\"Failed!\");\r\n  }\r\n  return res.json();\r\n};\r\n\r\n// export const delIceAPI = (id) => {\r\n//     return fetch(`http://localhost:3000/icecream/${id}`, {\r\n//         method: \"DELETE\",\r\n//     }).then((res) => res.json());\r\n// }\r\n","export const upddateIceApi = async (id, icecream) => {\r\n  const options = {\r\n    method: \"PUT\",\r\n    body: JSON.stringify(icecream),\r\n    headers: {\r\n      \"Content-Type\": \"application/json; charset=UTF-8\",\r\n    },\r\n  };\r\n\r\n  const res = await fetch(`http://localhost:3000/icecream/${id}`, options);\r\n  if (!res.ok) {\r\n    throw new Error(\"Failed!\");\r\n  }\r\n  return res.json();\r\n};\r\n\r\n// export const upddateIceApi = (id, icecream) => {\r\n//     const options = {\r\n//     method: \"PUT\",\r\n//     body: JSON.stringify(icecream),\r\n//     headers: {\r\n//     \"Content-Type\": \"application/json; charset=UTF-8\",\r\n\r\n// }}\r\n\r\n//     return fetch(`http://localhost:3000/icecream/${id}`, options).then((res) => res.json())\r\n// }\r\n"],"names":["$86b13480c2360751$export$4155fae302b916c9","res","fetch","ok","Error","json","$b4413bcb37a0ad9a$export$1ed6294efb83e2ac","iceCream","options","method","body","JSON","stringify","headers","$a50e240db88156af$export$8b88e9c6feb9b09b","id","$cbdf6a511dbeaa6a$export$2f74d05eb6079dc3","icecream","$6f40c3a58f594b58$var$list","document","querySelector","$6f40c3a58f594b58$var$addBtn","$6f40c3a58f594b58$var$backdropEl","$6f40c3a58f594b58$var$formEl","$6f40c3a58f594b58$var$currentEdit","$6f40c3a58f594b58$var$renderLayout","array","innerHTML","map","flavour","type","price","description","image","join","$6f40c3a58f594b58$var$openModal","style","display","$6f40c3a58f594b58$var$closeModal","$6f40c3a58f594b58$var$init","addEventListener","event","preventDefault","elements","currentTarget","icecreamData","value","trim","desc","url","reset","action","target","dataset","li","closest","console","log","src","textContent"],"version":3,"file":"ctud-fe-1-8.b8eb2764.js.map"}